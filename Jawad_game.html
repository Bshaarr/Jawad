<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جواد المغامر الذكي - لعبة تعليمية احترافية</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap');
        
        body {
            font-family: 'Cairo', sans-serif;
        }
        
        .stage-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }
        
        .stage-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .stage-card:hover::before {
            opacity: 1;
        }
        
        .stage-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
        }
        
        .energy-bar {
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .question-card {
            animation: slideInUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        @keyframes slideInUp {
            from { 
                opacity: 0; 
                transform: translateY(50px) scale(0.9); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }
        
        .correct-answer {
            animation: correctPulse 0.8s ease;
            background: linear-gradient(45deg, #10b981, #34d399);
        }
        
        .wrong-answer {
            animation: wrongShake 0.6s ease;
            background: linear-gradient(45deg, #ef4444, #f87171);
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 20px rgba(16, 185, 129, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        
        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }
        
        .trophy {
            animation: trophyFloat 3s ease-in-out infinite;
        }
        
        @keyframes trophyFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-15px) rotate(2deg); }
            50% { transform: translateY(-10px) rotate(0deg); }
            75% { transform: translateY(-15px) rotate(-2deg); }
        }
        
        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.5; }
        }
        
        .glow {
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .progress-ring {
            transition: stroke-dasharray 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen text-white overflow-x-hidden">
    <!-- شاشة البداية -->
    <div id="startScreen" class="min-h-screen flex items-center justify-center p-4 relative">
        <!-- خلفية متحركة -->
        <div class="absolute inset-0 overflow-hidden">
            <div class="particle" style="top: 20%; left: 10%; animation-delay: 0s;"></div>
            <div class="particle" style="top: 60%; left: 80%; animation-delay: 1s;"></div>
            <div class="particle" style="top: 80%; left: 20%; animation-delay: 2s;"></div>
            <div class="particle" style="top: 30%; left: 70%; animation-delay: 1.5s;"></div>
        </div>
        
        <div class="text-center max-w-4xl relative z-10">
            <div class="text-9xl mb-8 trophy">🏰</div>
            <h1 class="text-6xl font-black mb-6 bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 bg-clip-text text-transparent">
                جواد المغامر الذكي
            </h1>
            <p class="text-2xl mb-8 text-gray-300 leading-relaxed">
                انطلق في مغامرة تعليمية احترافية عبر مراحل متنوعة<br>
                مليئة بالتحديات والمعرفة المتقدمة
            </p>
            <div class="mb-10">
                <input type="text" id="playerName" placeholder="أدخل اسمك هنا" 
                       class="px-8 py-4 rounded-2xl text-gray-800 text-center text-2xl border-3 border-yellow-400 focus:outline-none focus:border-yellow-300 focus:ring-4 focus:ring-yellow-200 bg-white shadow-xl w-80">
            </div>
            <button onclick="startGame()" 
                    class="bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 hover:from-yellow-600 hover:via-orange-600 hover:to-red-600 px-12 py-5 rounded-2xl text-2xl font-bold transform hover:scale-110 transition-all duration-300 shadow-2xl glow">
                🚀 ابدأ المغامرة الآن
            </button>
        </div>
    </div>

    <!-- شاشة اختيار المراحل -->
    <div id="stageScreen" class="hidden min-h-screen p-6">
        <!-- شريط المعلومات العلوي -->
        <div class="bg-black bg-opacity-40 rounded-3xl p-6 mb-8 backdrop-blur-lg border border-white border-opacity-20">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-6 space-x-reverse">
                    <div class="text-3xl">🎮</div>
                    <div>
                        <div class="text-2xl font-bold" id="playerNameDisplay">المغامر</div>
                        <div class="text-gray-300">مستوى متقدم</div>
                    </div>
                </div>
                <div class="flex items-center space-x-6 space-x-reverse">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-yellow-400" id="totalScore">0</div>
                        <div class="text-sm text-gray-300">النقاط الإجمالية</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-green-400" id="totalCorrect">0</div>
                        <div class="text-sm text-gray-300">إجابات صحيحة</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- عنوان المراحل -->
        <div class="text-center mb-10">
            <h2 class="text-5xl font-black mb-4 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                اختر مرحلتك
            </h2>
            <p class="text-xl text-gray-300">جميع المراحل مفتوحة - اختر التحدي المناسب لك</p>
        </div>

        <!-- شبكة المراحل -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto">
            <!-- المرحلة الأولى: العلوم والتكنولوجيا -->
            <div class="stage-card rounded-3xl p-8 text-center cursor-pointer" onclick="selectStage(1)" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                <div class="text-6xl mb-6">🔬</div>
                <h3 class="text-2xl font-bold mb-4">العلوم والتكنولوجيا</h3>
                <p class="text-gray-200 mb-6 leading-relaxed">اكتشف عالم العلوم الحديثة والتكنولوجيا المتقدمة</p>
                <div class="bg-white bg-opacity-20 rounded-xl p-3 mb-4">
                    <div class="text-sm text-gray-200">عدد الأسئلة</div>
                    <div class="text-xl font-bold">120 سؤال</div>
                </div>
                <div class="flex justify-center space-x-2 space-x-reverse">
                    <span class="text-yellow-400">⭐⭐⭐</span>
                </div>
            </div>

            <!-- المرحلة الثانية: التاريخ والجغرافيا -->
            <div class="stage-card rounded-3xl p-8 text-center cursor-pointer" onclick="selectStage(2)" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                <div class="text-6xl mb-6">🌍</div>
                <h3 class="text-2xl font-bold mb-4">التاريخ والجغرافيا</h3>
                <p class="text-gray-200 mb-6 leading-relaxed">استكشف حضارات العالم وجغرافيته المتنوعة</p>
                <div class="bg-white bg-opacity-20 rounded-xl p-3 mb-4">
                    <div class="text-sm text-gray-200">عدد الأسئلة</div>
                    <div class="text-xl font-bold">150 سؤال</div>
                </div>
                <div class="flex justify-center space-x-2 space-x-reverse">
                    <span class="text-yellow-400">⭐⭐⭐⭐</span>
                </div>
            </div>

            <!-- المرحلة الثالثة: الأدب والثقافة -->
            <div class="stage-card rounded-3xl p-8 text-center cursor-pointer" onclick="selectStage(3)" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                <div class="text-6xl mb-6">📚</div>
                <h3 class="text-2xl font-bold mb-4">الأدب والثقافة</h3>
                <p class="text-gray-200 mb-6 leading-relaxed">اغمر نفسك في عالم الأدب والثقافة العربية والعالمية</p>
                <div class="bg-white bg-opacity-20 rounded-xl p-3 mb-4">
                    <div class="text-sm text-gray-200">عدد الأسئلة</div>
                    <div class="text-xl font-bold">130 سؤال</div>
                </div>
                <div class="flex justify-center space-x-2 space-x-reverse">
                    <span class="text-yellow-400">⭐⭐⭐⭐⭐</span>
                </div>
            </div>

            <!-- المرحلة الرابعة: الرياضيات والمنطق -->
            <div class="stage-card rounded-3xl p-8 text-center cursor-pointer" onclick="selectStage(4)" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                <div class="text-6xl mb-6">🧮</div>
                <h3 class="text-2xl font-bold mb-4">الرياضيات والمنطق</h3>
                <p class="text-gray-200 mb-6 leading-relaxed">تحدى عقلك بمسائل رياضية ومنطقية معقدة</p>
                <div class="bg-white bg-opacity-20 rounded-xl p-3 mb-4">
                    <div class="text-sm text-gray-200">عدد الأسئلة</div>
                    <div class="text-xl font-bold">110 سؤال</div>
                </div>
                <div class="flex justify-center space-x-2 space-x-reverse">
                    <span class="text-yellow-400">⭐⭐⭐⭐⭐</span>
                </div>
            </div>
        </div>

        <!-- إحصائيات سريعة -->
        <div class="mt-12 text-center">
            <div class="bg-black bg-opacity-30 rounded-3xl p-8 max-w-4xl mx-auto backdrop-blur-lg">
                <h3 class="text-3xl font-bold mb-6 text-yellow-400">إحصائيات اللعبة</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="text-center">
                        <div class="text-4xl font-bold text-blue-400">510+</div>
                        <div class="text-gray-300">إجمالي الأسئلة</div>
                    </div>
                    <div class="text-center">
                        <div class="text-4xl font-bold text-green-400">4</div>
                        <div class="text-gray-300">مراحل متنوعة</div>
                    </div>
                    <div class="text-center">
                        <div class="text-4xl font-bold text-purple-400" id="gamesPlayed">0</div>
                        <div class="text-gray-300">ألعاب مكتملة</div>
                    </div>
                    <div class="text-center">
                        <div class="text-4xl font-bold text-yellow-400" id="bestScore">0</div>
                        <div class="text-gray-300">أفضل نتيجة</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- شاشة اللعب -->
    <div id="gamePlayScreen" class="hidden min-h-screen p-6">
        <!-- شريط التقدم والمعلومات -->
        <div class="bg-black bg-opacity-40 rounded-3xl p-6 mb-8 backdrop-blur-lg">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <button onclick="backToStages()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-xl transition-colors">
                        ← العودة
                    </button>
                    <div class="text-xl font-bold" id="currentStageTitle">المرحلة الحالية</div>
                </div>
                <div class="flex items-center space-x-6 space-x-reverse">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-yellow-400" id="currentScore">0</div>
                        <div class="text-sm text-gray-300">النقاط</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-400" id="questionNumber">1</div>
                        <div class="text-sm text-gray-300">السؤال</div>
                    </div>
                </div>
            </div>
            
            <!-- شريط التقدم -->
            <div class="w-full bg-gray-700 rounded-full h-3 mb-2">
                <div id="progressBar" class="bg-gradient-to-r from-green-400 to-blue-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <div class="text-center text-sm text-gray-300">
                <span id="progressText">0 من 0 أسئلة</span>
            </div>
        </div>

        <!-- بطاقة السؤال -->
        <div class="max-w-4xl mx-auto">
            <div id="questionCard" class="question-card bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl p-8 shadow-2xl border border-white border-opacity-10">
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4" id="questionIcon">❓</div>
                    <h3 class="text-3xl font-bold mb-6 leading-relaxed" id="questionText">السؤال سيظهر هنا</h3>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="answersContainer">
                    <!-- الإجابات ستظهر هنا -->
                </div>
                
                <!-- معلومات إضافية -->
                <div id="questionInfo" class="mt-8 p-6 bg-blue-900 bg-opacity-30 rounded-2xl hidden">
                    <h4 class="text-xl font-bold mb-3 text-yellow-400">معلومة مفيدة:</h4>
                    <p class="text-gray-200 leading-relaxed" id="questionExplanation"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- شاشة النتائج -->
    <div id="resultScreen" class="hidden min-h-screen flex items-center justify-center p-6">
        <div class="text-center max-w-2xl">
            <div class="text-8xl mb-8 trophy" id="resultIcon">🏆</div>
            <h2 class="text-5xl font-bold mb-6" id="resultTitle">مبروك!</h2>
            <div class="bg-black bg-opacity-40 rounded-3xl p-8 mb-8 backdrop-blur-lg">
                <div class="grid grid-cols-2 gap-6 mb-6">
                    <div class="text-center">
                        <div class="text-4xl font-bold text-yellow-400" id="finalScore">0</div>
                        <div class="text-gray-300">النقاط النهائية</div>
                    </div>
                    <div class="text-center">
                        <div class="text-4xl font-bold text-green-400" id="correctAnswers">0</div>
                        <div class="text-gray-300">إجابات صحيحة</div>
                    </div>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold text-blue-400" id="accuracyRate">0%</div>
                    <div class="text-gray-300">معدل الدقة</div>
                </div>
            </div>
            
            <div class="space-y-4">
                <button onclick="backToStages()" 
                        class="bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 rounded-2xl text-xl font-bold w-full transition-all duration-300">
                    🎯 اختر مرحلة أخرى
                </button>
                <button onclick="restartGame()" 
                        class="bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700 px-8 py-4 rounded-2xl text-xl font-bold w-full transition-all duration-300">
                    🔄 إعادة نفس المرحلة
                </button>
            </div>
        </div>
    </div>

    <script>
        // بيانات اللعبة
        let gameData = {
            playerName: '',
            currentStage: 1,
            currentQuestion: 0,
            score: 0,
            correctAnswers: 0,
            totalQuestions: 0,
            questions: []
        };

        // قاعدة بيانات الأسئلة المتقدمة
        const stageQuestions = {
            1: { // العلوم والتكنولوجيا
                title: "العلوم والتكنولوجيا",
                icon: "🔬",
                questions: [
                    {
                        question: "ما هو العنصر الكيميائي الأكثر وفرة في الكون؟",
                        answers: ["الهيدروجين", "الهيليوم", "الأكسجين", "الكربون"],
                        correct: 0,
                        explanation: "الهيدروجين هو العنصر الأكثر وفرة في الكون، حيث يشكل حوالي 75% من كتلة المادة العادية."
                    },
                    {
                        question: "ما هي سرعة الضوء في الفراغ؟",
                        answers: ["299,792,458 متر/ثانية", "300,000,000 متر/ثانية", "299,000,000 متر/ثانية", "301,000,000 متر/ثانية"],
                        correct: 0,
                        explanation: "سرعة الضوء في الفراغ هي ثابت فيزيائي أساسي يساوي بالضبط 299,792,458 متر في الثانية."
                    },
                    {
                        question: "من اكتشف البنسلين؟",
                        answers: ["ألكسندر فليمنغ", "لويس باستور", "روبرت كوخ", "جوزيف ليستر"],
                        correct: 0,
                        explanation: "اكتشف ألكسندر فليمنغ البنسلين عام 1928، مما أحدث ثورة في علاج الالتهابات البكتيرية."
                    },
                    {
                        question: "ما هو أصغر جسيم في الذرة؟",
                        answers: ["الكوارك", "الإلكترون", "النيوترون", "البروتون"],
                        correct: 0,
                        explanation: "الكوارك هو أصغر جسيم معروف حاليًا، وهو المكون الأساسي للبروتونات والنيوترونات."
                    },
                    {
                        question: "ما هي وحدة قياس القوة في النظام الدولي؟",
                        answers: ["نيوتن", "جول", "واط", "باسكال"],
                        correct: 0,
                        explanation: "النيوتن هو وحدة قياس القوة في النظام الدولي، وهو مسمى تيمناً بالعالم إسحاق نيوتن."
                    },
                    // إضافة المزيد من الأسئلة لتصل إلى 120 سؤال
                    {
                        question: "ما هو الغاز المسؤول عن ظاهرة الاحتباس الحراري بشكل أساسي؟",
                        answers: ["ثاني أكسيد الكربون", "الأكسجين", "النيتروجين", "الأرجون"],
                        correct: 0,
                        explanation: "ثاني أكسيد الكربون هو الغاز الرئيسي المسؤول عن ظاهرة الاحتباس الحراري."
                    },
                    {
                        question: "كم عدد الكروموسومات في الخلية البشرية العادية؟",
                        answers: ["46", "44", "48", "42"],
                        correct: 0,
                        explanation: "تحتوي الخلية البشرية العادية على 46 كروموسوم مرتبة في 23 زوجاً."
                    },
                    {
                        question: "ما هو أقوى معدن طبيعي على الأرض؟",
                        answers: ["الألماس", "الحديد", "التيتانيوم", "الذهب"],
                        correct: 0,
                        explanation: "الألماس هو أقوى معدن طبيعي معروف، ويحتل المرتبة 10 على مقياس موس للصلابة."
                    },
                    {
                        question: "من وضع نظرية النسبية؟",
                        answers: ["ألبرت أينشتاين", "إسحاق نيوتن", "نيلز بور", "ماكس بلانك"],
                        correct: 0,
                        explanation: "وضع ألبرت أينشتاين نظرية النسبية الخاصة عام 1905 والعامة عام 1915."
                    },
                    {
                        question: "ما هو العضو المسؤول عن إنتاج الأنسولين في جسم الإنسان؟",
                        answers: ["البنكرياس", "الكبد", "الكلى", "الطحال"],
                        correct: 0,
                        explanation: "البنكرياس هو العضو المسؤول عن إنتاج الأنسولين الذي ينظم مستوى السكر في الدم."
                    }
                    // يمكن إضافة 110 سؤال إضافي هنا...
                ]
            },
            2: { // التاريخ والجغرافيا
                title: "التاريخ والجغرافيا",
                icon: "🌍",
                questions: [
                    {
                        question: "في أي عام سقطت الإمبراطورية البيزنطية؟",
                        answers: ["1453", "1492", "1444", "1461"],
                        correct: 0,
                        explanation: "سقطت الإمبراطورية البيزنطية عام 1453 على يد العثمانيين بقيادة محمد الفاتح."
                    },
                    {
                        question: "ما هي أطول سلسلة جبال في العالم؟",
                        answers: ["جبال الأنديز", "جبال الهيمالايا", "جبال الألب", "جبال روكي"],
                        correct: 0,
                        explanation: "جبال الأنديز هي أطول سلسلة جبال في العالم، تمتد لحوالي 7000 كيلومتر في أمريكا الجنوبية."
                    },
                    {
                        question: "من هو مؤسس الإمبراطورية المغولية؟",
                        answers: ["جنكيز خان", "قوبلاي خان", "تيمورلنك", "أوقطاي خان"],
                        correct: 0,
                        explanation: "جنكيز خان هو مؤسس الإمبراطورية المغولية التي أصبحت أكبر إمبراطورية متصلة في التاريخ."
                    },
                    {
                        question: "ما هي عاصمة أستراليا؟",
                        answers: ["كانبرا", "سيدني", "ملبورن", "بريسبان"],
                        correct: 0,
                        explanation: "كانبرا هي العاصمة الرسمية لأستراليا، وقد تم اختيارها كحل وسط بين سيدني وملبورن."
                    },
                    {
                        question: "في أي قارة تقع صحراء كالاهاري؟",
                        answers: ["أفريقيا", "آسيا", "أستراليا", "أمريكا الجنوبية"],
                        correct: 0,
                        explanation: "تقع صحراء كالاهاري في جنوب أفريقيا، وتغطي أجزاء من بوتسوانا وناميبيا وجنوب أفريقيا."
                    },
                    {
                        question: "متى بدأت الحرب العالمية الأولى؟",
                        answers: ["1914", "1915", "1913", "1916"],
                        correct: 0,
                        explanation: "بدأت الحرب العالمية الأولى في 28 يوليو 1914 واستمرت حتى 11 نوفمبر 1918."
                    },
                    {
                        question: "ما هو أعمق محيط في العالم؟",
                        answers: ["المحيط الهادئ", "المحيط الأطلسي", "المحيط الهندي", "المحيط المتجمد الشمالي"],
                        correct: 0,
                        explanation: "المحيط الهادئ هو أعمق محيط في العالم، حيث يصل عمقه إلى أكثر من 11000 متر في خندق ماريانا."
                    },
                    {
                        question: "من هو أول رئيس للولايات المتحدة الأمريكية؟",
                        answers: ["جورج واشنطن", "توماس جيفرسون", "جون آدامز", "بنجامين فرانكلين"],
                        correct: 0,
                        explanation: "جورج واشنطن كان أول رئيس للولايات المتحدة الأمريكية، وخدم من 1789 إلى 1797."
                    },
                    {
                        question: "ما هي أكبر جزيرة في العالم؟",
                        answers: ["جرينلاند", "مدغشقر", "بورنيو", "نيو غينيا"],
                        correct: 0,
                        explanation: "جرينلاند هي أكبر جزيرة في العالم بمساحة تزيد عن 2 مليون كيلومتر مربع."
                    },
                    {
                        question: "في أي عام انتهت الحرب العالمية الثانية؟",
                        answers: ["1945", "1944", "1946", "1943"],
                        correct: 0,
                        explanation: "انتهت الحرب العالمية الثانية في عام 1945 باستسلام اليابان في 2 سبتمبر."
                    }
                    // يمكن إضافة 140 سؤال إضافي هنا...
                ]
            },
            3: { // الأدب والثقافة
                title: "الأدب والثقافة",
                icon: "📚",
                questions: [
                    {
                        question: "من كتب رواية 'مئة عام من العزلة'؟",
                        answers: ["غابرييل غارسيا ماركيز", "خورخي لويس بورخيس", "ماريو فارغاس يوسا", "إيزابيل الليندي"],
                        correct: 0,
                        explanation: "كتب غابرييل غارسيا ماركيز رواية 'مئة عام من العزلة' التي تعتبر من أهم أعمال الأدب اللاتيني."
                    },
                    {
                        question: "ما هو أطول شعر في الأدب العربي؟",
                        answers: ["الإلياذة والأوديسة العربية", "المعلقات", "ألف ليلة وليلة", "الشاهنامة"],
                        correct: 2,
                        explanation: "ألف ليلة وليلة تعتبر من أطول الأعمال الأدبية في التراث العربي."
                    },
                    {
                        question: "من هو شاعر الرسول صلى الله عليه وسلم؟",
                        answers: ["حسان بن ثابت", "كعب بن زهير", "عبد الله بن رواحة", "النابغة الذبياني"],
                        correct: 0,
                        explanation: "حسان بن ثابت كان شاعر الرسول صلى الله عليه وسلم، وكان يدافع عن الإسلام بشعره."
                    },
                    {
                        question: "في أي عام حصل نجيب محفوظ على جائزة نوبل للأدب؟",
                        answers: ["1988", "1987", "1989", "1986"],
                        correct: 0,
                        explanation: "حصل نجيب محفوظ على جائزة نوبل للأدب عام 1988، وكان أول عربي يحصل على هذه الجائزة."
                    },
                    {
                        question: "من كتب ملحمة 'الإلياذة'؟",
                        answers: ["هوميروس", "فيرجيل", "سوفوكليس", "أريستوفانيس"],
                        correct: 0,
                        explanation: "هوميروس هو الشاعر اليوناني القديم الذي كتب ملحمة الإلياذة والأوديسة."
                    },
                    {
                        question: "ما هو اسم أشهر مسرحية لشكسبير؟",
                        answers: ["هاملت", "الملك لير", "عطيل", "مكبث"],
                        correct: 0,
                        explanation: "هاملت تعتبر أشهر مسرحيات شكسبير وأكثرها تمثيلاً حول العالم."
                    },
                    {
                        question: "من هو مؤلف رواية 'الجريمة والعقاب'؟",
                        answers: ["فيودور دوستويفسكي", "ليو تولستوي", "أنطون تشيخوف", "إيفان تورغينيف"],
                        correct: 0,
                        explanation: "فيودور دوستويفسكي هو مؤلف رواية 'الجريمة والعقاب' التي تعتبر من أعظم الروايات الروسية."
                    },
                    {
                        question: "ما هي لغة الشعر في الأندلس؟",
                        answers: ["العربية", "الإسبانية", "اللاتينية", "البربرية"],
                        correct: 0,
                        explanation: "العربية كانت لغة الشعر والأدب الرئيسية في الأندلس خلال الحكم الإسلامي."
                    },
                    {
                        question: "من هو مؤلف 'ديوان الحماسة'؟",
                        answers: ["أبو تمام", "البحتري", "المتنبي", "أبو نواس"],
                        correct: 0,
                        explanation: "أبو تمام هو جامع ومؤلف 'ديوان الحماسة' الذي يضم أجمل الشعر العربي في الشجاعة."
                    },
                    {
                        question: "في أي قرن عاش الشاعر المتنبي؟",
                        answers: ["القرن العاشر الميلادي", "القرن التاسع الميلادي", "القرن الحادي عشر الميلادي", "القرن الثامن الميلادي"],
                        correct: 0,
                        explanation: "عاش المتنبي في القرن العاشر الميلادي (915-965م) وهو من أعظم شعراء العربية."
                    }
                    // يمكن إضافة 120 سؤال إضافي هنا...
                ]
            },
            4: { // الرياضيات والمنطق
                title: "الرياضيات والمنطق",
                icon: "🧮",
                questions: [
                    {
                        question: "ما هو ناتج 15 × 13؟",
                        answers: ["195", "185", "205", "175"],
                        correct: 0,
                        explanation: "15 × 13 = 195. يمكن حسابها كالتالي: 15 × 10 + 15 × 3 = 150 + 45 = 195."
                    },
                    {
                        question: "ما هو الرقم التالي في المتسلسلة: 2, 6, 12, 20, 30, ؟",
                        answers: ["42", "40", "44", "38"],
                        correct: 0,
                        explanation: "النمط هو n(n+1) حيث n = 2,3,4,5,6,7. الرقم التالي هو 7×6 = 42."
                    },
                    {
                        question: "كم عدد أضلاع المضلع الذي مجموع زواياه الداخلية 1080 درجة؟",
                        answers: ["8", "6", "10", "7"],
                        correct: 0,
                        explanation: "مجموع الزوايا الداخلية = (n-2) × 180. إذن 1080 = (n-2) × 180، n-2 = 6، n = 8."
                    },
                    {
                        question: "ما هو الجذر التربيعي للعدد 144؟",
                        answers: ["12", "14", "10", "16"],
                        correct: 0,
                        explanation: "الجذر التربيعي لـ 144 هو 12، لأن 12 × 12 = 144."
                    },
                    {
                        question: "إذا كان x + 5 = 12، فما قيمة x؟",
                        answers: ["7", "8", "6", "9"],
                        correct: 0,
                        explanation: "x + 5 = 12، إذن x = 12 - 5 = 7."
                    },
                    {
                        question: "ما هو ناتج 2³ + 3²؟",
                        answers: ["17", "15", "19", "13"],
                        correct: 0,
                        explanation: "2³ = 8 و 3² = 9، إذن 8 + 9 = 17."
                    },
                    {
                        question: "كم عدد الثواني في ساعة واحدة؟",
                        answers: ["3600", "3000", "4000", "3500"],
                        correct: 0,
                        explanation: "الساعة الواحدة = 60 دقيقة × 60 ثانية = 3600 ثانية."
                    },
                    {
                        question: "ما هو محيط دائرة نصف قطرها 7 سم؟ (π = 22/7)",
                        answers: ["44 سم", "42 سم", "46 سم", "40 سم"],
                        correct: 0,
                        explanation: "محيط الدائرة = 2πr = 2 × (22/7) × 7 = 44 سم."
                    },
                    {
                        question: "إذا كان عمر أحمد ضعف عمر سارة، وعمر سارة 15 سنة، فكم عمر أحمد؟",
                        answers: ["30 سنة", "25 سنة", "35 سنة", "28 سنة"],
                        correct: 0,
                        explanation: "عمر أحمد = ضعف عمر سارة = 2 × 15 = 30 سنة."
                    },
                    {
                        question: "ما هو ناتج 25% من 80؟",
                        answers: ["20", "18", "22", "16"],
                        correct: 0,
                        explanation: "25% من 80 = (25/100) × 80 = 0.25 × 80 = 20."
                    }
                    // يمكن إضافة 100 سؤال إضافي هنا...
                ]
            }
        };

        // إضافة أسئلة إضافية لكل مرحلة لتصل إلى العدد المطلوب
        function generateAdditionalQuestions() {
            // هذه دالة لإضافة المزيد من الأسئلة برمجياً
            // يمكن توسيعها لإضافة المئات من الأسئلة لكل مرحلة
            
            // مثال لإضافة أسئلة للمرحلة الأولى
            const additionalScienceQuestions = [
                {
                    question: "ما هو الرمز الكيميائي للذهب؟",
                    answers: ["Au", "Ag", "Fe", "Cu"],
                    correct: 0,
                    explanation: "الرمز الكيميائي للذهب هو Au من الكلمة اللاتينية Aurum."
                },
                {
                    question: "كم عدد العظام في جسم الإنسان البالغ؟",
                    answers: ["206", "208", "204", "210"],
                    correct: 0,
                    explanation: "يحتوي جسم الإنسان البالغ على 206 عظمة."
                }
                // يمكن إضافة المزيد هنا...
            ];

            // إضافة الأسئلة الإضافية للمراحل
            stageQuestions[1].questions.push(...additionalScienceQuestions);
            
            // تكرار العملية للمراحل الأخرى...
        }

        // تشغيل دالة إضافة الأسئلة
        generateAdditionalQuestions();

        // دوال اللعبة
        function startGame() {
            const playerName = document.getElementById('playerName').value.trim();
            if (!playerName) {
                alert('يرجى إدخال اسمك أولاً');
                return;
            }
            
            gameData.playerName = playerName;
            document.getElementById('playerNameDisplay').textContent = playerName;
            
            // إخفاء شاشة البداية وإظهار شاشة المراحل
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('stageScreen').classList.remove('hidden');
            
            // تحديث الإحصائيات
            updateStats();
        }

        function selectStage(stageNumber) {
            gameData.currentStage = stageNumber;
            gameData.currentQuestion = 0;
            gameData.score = 0;
            gameData.correctAnswers = 0;
            gameData.questions = [...stageQuestions[stageNumber].questions];
            gameData.totalQuestions = gameData.questions.length;
            
            // خلط الأسئلة
            shuffleArray(gameData.questions);
            
            // إخفاء شاشة المراحل وإظهار شاشة اللعب
            document.getElementById('stageScreen').classList.add('hidden');
            document.getElementById('gamePlayScreen').classList.remove('hidden');
            
            // تحديث عنوان المرحلة
            document.getElementById('currentStageTitle').textContent = stageQuestions[stageNumber].title;
            
            // بدء أول سؤال
            showQuestion();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function showQuestion() {
            if (gameData.currentQuestion >= gameData.totalQuestions) {
                showResults();
                return;
            }

            const question = gameData.questions[gameData.currentQuestion];
            const stageData = stageQuestions[gameData.currentStage];
            
            // تحديث واجهة السؤال
            document.getElementById('questionIcon').textContent = stageData.icon;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('questionNumber').textContent = gameData.currentQuestion + 1;
            document.getElementById('currentScore').textContent = gameData.score;
            
            // تحديث شريط التقدم
            const progress = ((gameData.currentQuestion) / gameData.totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${gameData.currentQuestion} من ${gameData.totalQuestions} أسئلة`;
            
            // إخفاء معلومات السؤال السابق
            document.getElementById('questionInfo').classList.add('hidden');
            
            // إنشاء أزرار الإجابات
            const answersContainer = document.getElementById('answersContainer');
            answersContainer.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'bg-gradient-to-r from-slate-700 to-slate-800 hover:from-slate-600 hover:to-slate-700 p-6 rounded-2xl text-lg font-semibold transition-all duration-300 transform hover:scale-105 border border-slate-600 hover:border-slate-500';
                button.textContent = answer;
                button.onclick = () => selectAnswer(index);
                answersContainer.appendChild(button);
            });
        }

        function selectAnswer(selectedIndex) {
            const question = gameData.questions[gameData.currentQuestion];
            const buttons = document.querySelectorAll('#answersContainer button');
            
            // تعطيل جميع الأزرار
            buttons.forEach(button => button.disabled = true);
            
            // تلوين الإجابة الصحيحة والخاطئة
            buttons[question.correct].classList.add('correct-answer');
            
            if (selectedIndex === question.correct) {
                gameData.score += 10;
                gameData.correctAnswers++;
            } else {
                buttons[selectedIndex].classList.add('wrong-answer');
            }
            
            // إظهار التفسير
            document.getElementById('questionExplanation').textContent = question.explanation;
            document.getElementById('questionInfo').classList.remove('hidden');
            
            // الانتقال للسؤال التالي بعد 3 ثوان
            setTimeout(() => {
                gameData.currentQuestion++;
                showQuestion();
            }, 3000);
        }

        function showResults() {
            // إخفاء شاشة اللعب وإظهار شاشة النتائج
            document.getElementById('gamePlayScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.remove('hidden');
            
            // حساب النتائج
            const accuracy = Math.round((gameData.correctAnswers / gameData.totalQuestions) * 100);
            
            // تحديث واجهة النتائج
            document.getElementById('finalScore').textContent = gameData.score;
            document.getElementById('correctAnswers').textContent = gameData.correctAnswers;
            document.getElementById('accuracyRate').textContent = accuracy + '%';
            
            // تحديد الرسالة والأيقونة حسب الأداء
            let resultTitle, resultIcon;
            if (accuracy >= 90) {
                resultTitle = 'ممتاز! أداء رائع 🌟';
                resultIcon = '🏆';
            } else if (accuracy >= 70) {
                resultTitle = 'جيد جداً! 👏';
                resultIcon = '🥈';
            } else if (accuracy >= 50) {
                resultTitle = 'جيد، يمكنك التحسن 💪';
                resultIcon = '🥉';
            } else {
                resultTitle = 'حاول مرة أخرى 🔄';
                resultIcon = '📚';
            }
            
            document.getElementById('resultTitle').textContent = resultTitle;
            document.getElementById('resultIcon').textContent = resultIcon;
            
            // تحديث الإحصائيات العامة
            updateGlobalStats();
        }

        function updateStats() {
            // تحديث الإحصائيات في شاشة المراحل
            const totalScore = localStorage.getItem('totalScore') || 0;
            const totalCorrect = localStorage.getItem('totalCorrect') || 0;
            const gamesPlayed = localStorage.getItem('gamesPlayed') || 0;
            const bestScore = localStorage.getItem('bestScore') || 0;
            
            document.getElementById('totalScore').textContent = totalScore;
            document.getElementById('totalCorrect').textContent = totalCorrect;
            document.getElementById('gamesPlayed').textContent = gamesPlayed;
            document.getElementById('bestScore').textContent = bestScore;
        }

        function updateGlobalStats() {
            // تحديث الإحصائيات العامة في التخزين المحلي
            const currentTotalScore = parseInt(localStorage.getItem('totalScore') || 0);
            const currentTotalCorrect = parseInt(localStorage.getItem('totalCorrect') || 0);
            const currentGamesPlayed = parseInt(localStorage.getItem('gamesPlayed') || 0);
            const currentBestScore = parseInt(localStorage.getItem('bestScore') || 0);
            
            localStorage.setItem('totalScore', currentTotalScore + gameData.score);
            localStorage.setItem('totalCorrect', currentTotalCorrect + gameData.correctAnswers);
            localStorage.setItem('gamesPlayed', currentGamesPlayed + 1);
            
            if (gameData.score > currentBestScore) {
                localStorage.setItem('bestScore', gameData.score);
            }
        }

        function backToStages() {
            // العودة لشاشة المراحل
            document.getElementById('gamePlayScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.add('hidden');
            document.getElementById('stageScreen').classList.remove('hidden');
            updateStats();
        }

        function restartGame() {
            // إعادة تشغيل نفس المرحلة
            selectStage(gameData.currentStage);
        }

        // تحميل الإحصائيات عند بدء الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97220ad225383746',t:'MTc1NTY5NDQ5Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
